# Body Hack 專案狀態

> 最後更新：2025-02-03 by May

---

## 當前階段

**Stage 2：UI 設計**（進行中）

---

## 完成項目

### Tim (Stage 1) ✅

- [x] CLAUDE.md
- [x] system_blueprint.md
- [x] tech_constraints.md（已更新至專案文件）
- [x] 高層級 .feature 檔案

### May (Stage 2) 🔄 進行中

- [x] 設計理念確認
- [x] 畫面流程總覽（Mermaid）
- [x] 主畫面：時間軸設計
- [x] 飲食記錄完整設計
  - [x] 資料結構
  - [x] UI 版面
  - [x] 操作流程
  - [x] 驗證規則
  - [x] AI Prompt 設計
- [x] 「這個能吃嗎？」功能設計決策
- [ ] 運動記錄設計
- [ ] 飲水記錄設計
- [ ] 簡易事件設計
- [ ] 生理數據 OCR 設計
- [ ] 目標管理設計
- [ ] 匯出頁設計
- [ ] 週回顧設計
- [ ] API 設定頁設計
- [ ] Gherkin 場景撰寫

---

## 設計決策摘要

### 已確認 - 整體

| 決策 | 內容 |
|------|------|
| 核心體驗 | 時間軸為主軸，輸入為最常用動作 |
| 時間軸方向 | 最新在上，往下滾回溯（倒轉 Messenger） |
| 輸入入口 | 頂部固定按鈕 |
| 輸入類型選擇 | Dialog 彈窗 |
| 其他功能入口 | 側邊選單（漢堡選單） |
| 日期切換 | 頂部顯示日期，點擊開啟日曆 |
| AI 回饋入口 | 頂部按鈕（今日脈絡）+ 氣泡上按鈕（單筆） |
| API 設定 | 側邊選單內，可切換模型 |

### 已確認 - 飲食記錄

| 決策 | 內容 |
|------|------|
| 輸入方式 | 三段式：文字描述 + 照片辨識 + 備註 |
| 照片辨識 | 點按鈕才觸發，結果顯示在獨立區域 |
| 整理功能 | 「✨ 整理」按鈕，AI 合併三個輸入到預覽區 |
| 預覽編輯 | 純文字可編輯 |
| 餐別選項 | 早餐/午餐/晚餐/其他（手動輸入） |
| content 欄位 | 餐點內容 + 份量描述 |
| note 欄位 | 營養資訊（實際標示或 AI 推估） |
| AI 推估標記 | 開頭標註 `[推估]` |
| 營養資料庫 | PoC 先用 AI 推估，之後可串接食藥署資料庫（見 roadmap.md） |

### 已確認 - 「這個能吃嗎？」功能

| 決策 | 內容 |
|------|------|
| 功能定位 | 餐前決策輔助（不是事後回饋） |
| 入口位置 | 整合到「🤖 問 AI」按鈕，作為子選項 |
| 版本規劃 | v0.1 PoC 就要做 |
| 資料保存 | 預設不保存，可選「📝 記下來」 |
| 保存位置 | Insights Sheet，type: `pre_meal_check` |
| 保存欄位 | trigger_summary（詢問內容）、context_summary（今日脈絡）、ai_response（AI 建議） |

---

## 下一步

1. 設計「🤖 問 AI」的子選項 UI（含「這個能吃嗎？」）
2. 繼續設計其他輸入類型（運動、飲水、簡易事件、生理數據 OCR）
3. 設計目標管理、匯出、週回顧、API 設定頁
4. 撰寫 Gherkin 場景
5. 彙整並更新 ui_spec.md

---

## 交接資訊

**當前角色**：May（UI 設計師）

**已完成設計**：
1. 畫面流程總覽（Mermaid）
2. 主畫面時間軸
3. 飲食記錄（完整：資料結構、UI、流程、Prompt）
4. 「這個能吃嗎？」功能決策

**待設計**：
- 「🤖 問 AI」子選項 UI
- 運動記錄
- 飲水記錄
- 簡易事件
- 生理數據 OCR
- 目標管理
- 匯出
- 週回顧
- API 設定
- Gherkin 場景

**重要文件**：
- `docs/design/ui_spec.md`：UI 規格（飲食記錄已完成）
- `docs/design/roadmap.md`：開發路線圖（含營養估算未來改版方向）
- `docs/design/system_blueprint.md`：系統藍圖（Tim 產出）
- `docs/design/tech_constraints.md`：技術限制

**下次對話開場**：
```
呼叫 May，繼續 Body Hack 的 UI 設計
```

May 應該：
1. 讀取 `docs/status.md` 確認進度
2. 讀取 `docs/design/ui_spec.md` 確認已完成的設計
3. 從「🤖 問 AI」子選項 UI 開始設計
